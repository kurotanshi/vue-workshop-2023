import{br as S,bs as g,k as u,aY as T}from"./index-cf7fc274.js";const f=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),m=[{id:"61bblwnux0tlb1vp3qk",title:"Hello Vue.js!",tasks:[{id:"79bcdufvlfdlb1voaq5",title:"Vue.js 測試",content:"內文區塊"},{id:"4ffywwh2sfelb1vob44",title:"Vue.js 測試2",content:"內文區塊2"}]},{id:"1ix2wxwsldblb1vpa4h",title:"Hello Laravel!",tasks:[{id:"zm3frri5a4lb0l8c2e",title:"Laravel 測試",content:"內文區塊"},{id:"b8ijxyk2o9lb1vnzio",title:"Laravel 測試2",content:"內文區塊2"}]}],L=S("store",()=>{const r=g(),a=u(JSON.parse(localStorage.getItem("trello-lists"))||m),o=u({}),k=(t,s)=>{const e=a.value.find(n=>n.id===t).tasks.find(n=>n.id===s);r.push(`/task/${t}/${s}`),o.value={cardId:t,...e}},l=()=>{o.value={},r.push("/")},v=(t,s,i="",e="")=>{const c=a.value.find(d=>d.id===t).tasks.find(d=>d.id===s);c.title=i,c.content=e,l()},b=(t="",s="")=>{const i=a.value.find(e=>e.id===t);i.title=s},p=(t="",s="")=>{if(!t||!s)return;a.value.find(e=>e.id===t).tasks.push({id:f(),title:s,content:""})},h=(t,s)=>{const i=a.value.find(e=>e.id===t);i.tasks=i.tasks.filter(e=>e.id!==s),l()},w=(t="")=>{t&&a.value.push({id:f(),title:t,tasks:[]})};return T(a,t=>{localStorage.setItem("trello-lists",JSON.stringify(t))},{deep:!0}),{lists:a,currentEditTask:o,openEditTask:k,closeEditTask:l,updateTask:v,updateListTitle:b,addTask:p,deleteTask:h,addNewCard:w}});export{L as u};
